<div class="container">
    <h2 class="p-3">Expense Application</h2>
    <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
        <div class="card mx-auto mt-5 p-4 shadow-lg" style="max-width: 500px;">
            <h3 class="text-center">Register User</h3>
            
            <div class="form-group mb-3">
                <label>UserName <span class="text-danger">*</span></label>
                <input class="form-control" formControlName="userName" required />
                <div class="text-danger" *ngIf="registerForm.get('userName')?.touched && registerForm.get('userName')?.hasError('required')">
                    User Name is required.
                </div>
                <div class="text-danger" *ngIf="registerForm.get('userName')?.hasError('maxlength')">
                    Maximum 15 characters allowed.
                </div>
            </div>

            <div class="form-group mb-3">
                <label>Full Name <span class="text-danger">*</span></label>
                <input class="form-control" formControlName="fullName" required />
                <div class="text-danger" *ngIf="registerForm.get('fullName')?.touched && registerForm.get('fullName')?.hasError('required')">
                    Full Name is required
                </div>
                <div class="text-danger" *ngIf="registerForm.get('fullName')?.hasError('maxlength')">
                    Maximum 30 characters allowed.
                </div>
            </div>

            <div class="form-group mb-3">
                <label>Mobile Number <span class="text-danger">*</span></label>
                <input class="form-control" formControlName="mobileNumber" required />
                <div class="text-danger" *ngIf="registerForm.get('mobileNumber')?.touched && registerForm.get('mobileNumber')?.hasError('required')">
                    Mobile Number is required
                </div>
                <div class="text-danger" *ngIf="registerForm.get('mobileNumber')?.hasError('pattern')"
                    class="text-danger">
                    Enter a valid 10-digit Indian mobile number starting with 6-9.
                </div>
            </div>

            <div class="form-group mb-3">
                <label>Password <span class="text-danger">*</span></label>
                <input type="password" class="form-control" formControlName="password" required />
                <div class="text-danger" *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.hasError('required')">
                    Password is required
                </div>
                <div class="text-danger" *ngIf="registerForm.get('password')?.hasError('pattern')">
                    Password must be at least 8 characters, include upper & lower case letters, a number, and a special character.
                </div>
            </div>

            <div class="form-group mb-3 position-relative">
                <label>Confirm Password <span class="text-danger">*</span></label>
                <input [type]="showPassword ? 'text': 'password'" class="form-control" formControlName="confirmPassword" required />
                <span class="position-absolute"
                    style="cursor: pointer; right: 10px; top: 30px;"
                    (click)="togglePasswordVisibility()">
                    <i class="bi" [ngClass]="showPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
                </span>
                <div class="text-danger" *ngIf="registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.hasError('required')">
                    Confirm Password is required
                </div>
            </div>

            <div *ngIf="registerForm.errors?.['passwordMismatch'] && registerForm.get('confirmPassword')?.touched">
                Passwords do not match.
            </div>

            <button class="mt-3 btn btn-primary" 
                [ngClass]="{ 'disabled-btn': registerForm.invalid}"
                type="submit">
                Register User!
            </button>
        </div>
    </form>
</div>


